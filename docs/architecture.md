# Architecture

A quick overview of how Signal works under the hood.

---

## Overview

```
User wallet
    │
    │  POST /api/subscribe
    │  + x402 USDC payment (0.05/project)
    ▼
Next.js API (getsignal.xyz)
    │
    │  Conway Terminal MCP
    ▼
Conway Cloud VM ──────────────────────────────────┐
    │                                              │
    │  SignalAgent.boot()                          │
    ▼                                              │
Scanning loop (every 5 min)                        │
    ├── Twitter API                                │
    ├── On-chain indexer (Base, ETH, ARB)          │
    ├── GitHub API                                 │
    └── News aggregator                            │
              │                                   │
              │  raw events                        │
              ▼                                   │
    Conway Compute (claude-sonnet-4-6)             │
    ├── Score relevance 0–100                      │
    ├── Filter score < 40                          │
    └── Classify severity                          │
              │                                   │
              │  scored events                     │
              ▼                                   │
    Signal DB (on Conway VM)                       │
              │                                   │
              ▼                                   │
    GET /api/feed → User                          │
                                                  │
    Revenue (USDC) ────────────────────────────────┘
    pays Conway infra automatically via x402
```

---

## Conway Services Used

### Conway Cloud
The agent runs on a Conway Cloud Linux VM. It boots on first subscription, runs the scanning loop, and stores events. The agent pays for the VM using subscription revenue via x402.

### Conway Compute
Every raw event is scored for relevance by `claude-sonnet-4-6` via Conway Compute. This is what separates Signal from a dumb alert system — the AI decides what's worth surfacing.

### Conway Domains
On first deploy, the agent registers `getsignal.xyz` via Conway Domains. No human DNS configuration needed.

### x402 Protocol
All payments are USDC on Base via x402. The agent wallet (EVM, generated by Conway Terminal) receives payments and uses them to pay Conway invoices. No human billing involved.

---

## Data Flow

```
Raw event (tweet / tx / commit / news)
    ↓
Conway Compute scores relevance (0–100)
    ↓
score < 40 → dropped
score 40–59 → info
score 60–74 → medium
score 75–89 → high
score 90+ → critical
    ↓
Stored in Signal DB
    ↓
Delivered via GET /api/feed
```

---

## Self-Funding Loop

```
subscription payment (0.05 USDC/project)
    ↓
agent wallet receives USDC on Base
    ↓
agent pays Conway Cloud VM (~$5/mo)
agent pays Conway Compute inference (~$0.001/call)
agent pays Conway domain renewal (~$10/yr)
    ↓
agent stays alive indefinitely
    ↓
loop repeats
```
